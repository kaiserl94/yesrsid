<style>
    :root {
        --base-font-family: "Louis George Cafe", "Helvetica", "Arial", sans-serif;
    }

    .room-container {
        margin: 0 auto;
        max-width: 100%;
        max-height: 100vh;
        position: relative;
    }

    .background-image {
        max-width: 100%;
        max-height: 100vh;
        height: auto;
        display: block;
    }

    .masked-container {
        position: absolute;
        overflow: hidden;
    }

    .vre-container {
        width: 2200px;
        height: 1550px;
        transform-origin: top left;
        clip-path: path('M536.2,622.9c16.8-18.1,34.4-35.5,52.4-51.9c38-34.6,79.8-65.6,125.1-89.9c104.9-56.3,187.2-97.6,386.3-110.6 c86.6-5.9,173.8,5.6,250.4,48.1c20.3,11.3,39.9,23.8,58.5,37.8c17.8,13.4,33.3,29.3,50.8,42.9c23.5,18.3,117.9,96.5,117.9,96.5 c17.2,13.9,34,28.4,50.3,43.4c18.8,17.2,39.5,33.8,52.8,56c11.3,18.7,15.4,42.3,20,63.4c0,0,6,33.9-32.7,50.6 c-34.3,18-86,36.3-118,57.1c0,0-37.6,22.4-58.7,71.7c-3.7,9.1-5,5-23,68.1c-16.4,63.9-23,84.8-23,84.8s-30.3,119.7-115.6,158.1 c0,0-44.9,26.9-119.5,6.8c-74.6-20.1-152.3-47.2-167.7-50.3c-15.4-3.1-56.3-17.5-171.7-17.5c-113.9,0-185.8,14.1-187.5,14.5 c-51,10.1-102.2,21.3-140.1-24.6c-21.2-20-41.3-41.1-60.9-62.6c-11.4-12.5-23.5-24.7-32.6-39.1c-21.9-34.7-32.1-76.3-33.3-117.1 c-1.6-58.8-2.4-119.4,17-175.7c16.1-46.8,42.1-90.1,73.9-128C516.7,644.4,526.3,633.5,536.2,622.9z');
    }

    .vre-iframe {
        transform: scale(0.64);
        width: 2200px;
        height: 1550px;
    }

    .button-controls {
        position: absolute;
        right: 17%;
        bottom: 33%;
    }

    .next-button {
        width: 70px;
        height: 70px;
        background-color: transparent;
        border: 0;
        outline: 0;
        background-image: url("https://uploads-ssl.webflow.com/5f494949a4c94cfd0ede984c/6082fbde9a19e2ad61fcf636_forward.svg");
        background-repeat: no-repeat;
        background-size: 100%;
        transition: ease all 0.2s;
        -webkit-filter: drop-shadow(0px 2px 9px rgba(0, 0, 0, 0.2));
    }

    .prev-button {
        width: 70px;
        height: 70px;
        background-color: transparent;
        border: 0;
        outline: 0;
        background-image: url("https://uploads-ssl.webflow.com/5f494949a4c94cfd0ede984c/6082fbdbc6358f800771011e_back.svg");
        background-repeat: no-repeat;
        background-size: 100%;
        transition: ease all 0.2s;
        -webkit-filter: drop-shadow(0px 2px 9px rgba(0, 0, 0, 0.2));
    }

    .next-button:hover,
    .prev-button:hover {
        opacity: 0.5;
        cursor: pointer;
    }

    .by-line {
        position: absolute;
        left: 15%;
        bottom: 10%;
        background: -webkit-linear-gradient(#DEC5E3, #B2BFD8);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        font-size: 18px;
        font-weight: 600;
        font-family: var(--base-font-family);
        text-shadow: 0 1px 0px rgba(0, 0, 0, 0.4);
    }

    .by-line>span {
        font-size: 14px;
        font-weight: 400;
    }
</style>

<div id="room-container" class="room-container">
    <img id="ref-img" class="background-image"" src="
        https://uploads-ssl.webflow.com/5f494949a4c94cfd0ede984c/6080c433ff98f668c535654c_Nassila_4th%20year%20room_FINAL%20RENDER%20(1).jpg"
        width="1285" height="905" />

    <div id="masked-container" class="masked-container">
        <div id="vre-container" class="vre-container">
            <script>

                const fromTop = 367 / 1550;
                const fromLeft = 415 / 2200;
                const fromRight = 498 / 2200;
                const fromBottom = 287 / 1550;

                const aspectRatio = 2200 / 1550;

                const vreLinks = {
                    "xie": {
                        "name": "Shuning Xie",
                        "url": "https://vr.yulio.com/embedded/vres/YFDBnhD3G0/fprs/Fb6ZUcAHhj/?type=embed&show_nav=false&show_home=false&show_share=false&show_360=false&auto_pan=true",
                    },
                    "zhang": {
                        "name": "Julie Zhang",
                        "url": "https://vr.yulio.com/embedded/vres/GxVgolvaV0/fprs/Ez5jZPiJ3j/?type=embed&show_nav=false&show_home=false&show_share=false&show_360=false&auto_pan=true",
                    },
                    "cameron": {
                        "name": "Colin Cameron",
                        "url": "https://vr.yulio.com/embedded/vres/UbKjoR3zSV/fprs/QULpkubSEu/?type=embed&show_nav=false&show_home=false&show_share=false&show_360=false&auto_pan=true",
                    },
                    "diaz": {
                        "name": "Nicholas Burbano Diaz",
                        "url": "https://vr.yulio.com/embedded/vres/g2J0nsJD4Y/fprs/bvyP7xNIkv/?type=embed&show_nav=false&show_home=false&show_share=false&show_360=false&auto_pan=true",
                    },
                    "wang": {
                        "name": "Shih Han Wang",
                        "url": "https://vr.yulio.com/embedded/vres/bzxMoln8JK/fprs/pbqeVPpbHm/?type=embed&show_nav=false&show_home=false&show_share=false&show_360=false&auto_pan=true"
                    }
                };
                let count = 0;

                const vreData = [
                    vreLinks.xie,
                    vreLinks.zhang,
                    vreLinks.cameron,
                    vreLinks.diaz,
                    vreLinks.wang,
                ]

                let roomContainer = document.getElementById("room-container");
                let image = document.getElementById("ref-img");
                let maskedContainer = document.getElementById("masked-container");
                let vreContainer = document.getElementById("vre-container");
                let iframe = document.getElementById("vre-iframe");
                let byLine = document.getElementById("by-line");
                resizeEverything();

                function resizeEverything() {
                    if (!roomContainer) {
                        roomContainer = document.getElementById("room-container");
                    }
                    if (!image) {
                        image = document.getElementById("ref-img");
                    }
                    if (!maskedContainer) {
                        maskedContainer = document.getElementById("masked-container");
                    }
                    if (!vreContainer) {
                        vreContainer = document.getElementById("vre-container");
                    }
                    if (!iframe) {
                        iframe = document.getElementById("vre-iframe");
                    }

                    const newWidth = window.innerWidth > 1285 ? 1285 : window.innerWidth;
                    const newHeight = newWidth * (1 / aspectRatio);
                    roomContainer.style.width = newWidth + "px";
                    roomContainer.style.height = newHeight + "px";

                    const left = image.width * fromLeft;
                    const top = image.height * fromTop;
                    maskedContainer.style.width = image.width * (1 - fromLeft - fromRight) + "px";
                    maskedContainer.style.height = image.height * (1 - fromTop - fromBottom) + "px";
                    maskedContainer.style.top = top + "px";
                    maskedContainer.style.left = left + "px";

                    console.log(image.width, image.height, fromTop, fromLeft, fromBottom, fromRight, left, top, newWidth, newHeight);

                    const scale = image.width / vreContainer.clientWidth;
                    vreContainer.style.transform = `translate3d(-${left}px, -${top}px, 0px) scale(${scale})`;
                }

                function next() {
                    ++count;

                    if (count === vreData.length) {
                        count = 0;
                    }

                    if (!iframe) {
                        iframe = document.getElementById("vre-iframe");
                    }

                    if (!byLine) {
                        byLine = document.getElementById("by-line");
                    }

                    iframe.src = vreData[count].url;
                    byLine.innerHTML = `<span>BY</span></br>${vreData[count].name}`;
                }

                function prev() {
                    --count;

                    if (count < 0) {
                        count = vreData.length - 1;
                    }

                    if (!iframe) {
                        iframe = document.getElementById("vre-iframe");
                    }

                    if (!byLine) {
                        byLine = document.getElementById("by-line");
                    }

                    iframe.src = vreData[count].url;
                    byLine.innerHTML = `<span>BY</span></br>${vreData[count].name}`;
                }

                window.onresize = () => {
                    resizeEverything();
                }
            </script>
            <iframe id="vre-iframe" class="vre-iframe"
                src="https://vr.yulio.com/embedded/vres/YFDBnhD3G0/fprs/Fb6ZUcAHhj/?type=embed&show_nav=false&show_home=false&show_share=false&show_360=false&auto_pan=true"
                scrolling="no" frameborder="0" allowfullscreen></iframe>
        </div>
        <p class="by-line" id="by-line"><span>BY</span></br>Shuning Xie</p>
    </div>

    <div class="button-controls">
        <button class="prev-button" onclick='prev()'></button>
        <button class="next-button" onclick='next()'></button>
    </div>
</div>